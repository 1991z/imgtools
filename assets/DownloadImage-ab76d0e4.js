import{_ as t,o as e,c as a,F as i,i as n,b as s,t as d}from"./index-5fa3503f.js";const r={id:"maxBox"},l=["src","onLoad"],o=["data-size"];const g=t({props:{images:{type:Array,required:!0}},methods:{getWH(t){let e=t.target.nextSibling;if(void 0===e.dataset.wh){let a=t.target.naturalWidth,i=t.target.naturalHeight;e.dataset.wh=a+" X "+i}e.innerText=e.innerText.indexOf("KB")>-1?e.dataset.wh:e.dataset.size},loadImg(t,e){let a=t.target.naturalWidth,i=t.target.naturalHeight;this.$emit("getWH",{k:e,w:a,h:i})}}},[["render",function(t,g,m,c,p,h){return e(),a("div",r,[(e(!0),a(i,null,n(m.images,(t=>(e(),a("div",{key:t.timeStamp,class:"imgBox"},[s("img",{src:t.base64,onClick:g[0]||(g[0]=(...t)=>h.getWH&&h.getWH(...t)),onLoad:e=>h.loadImg(e,t.timeStamp)},null,40,l),s("p",{"data-size":parseInt(t.size/1024)+"KB"},d(parseInt(t.size/1024))+" KB ",9,o)])))),128))])}],["__scopeId","data-v-173ee059"]]),m={id:"maxBox"},c=["src","onClick"],p=["data-size"],h={class:"imgBox",id:"tips"};const u=t({props:{images:{type:Array,required:!0}},methods:{download(t){let{base64:e,type:a,timeStamp:i}=t,n=e.replace(`data:${a};base64,`,""),s=window.atob(n),d=new Uint8Array(s.length);for(let o=0;o<s.length;++o)d[o]=s.charCodeAt(o);let r=new Blob([d],{type:a}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download=i,l.target="_blank",l.click()},downloadAll(){this.$props.images.forEach((t=>{this.download(t)}))},getWH(t){let e=t.target;if(void 0===e.dataset.wh){let t=e.parentElement.firstChild.naturalWidth,a=e.parentElement.firstChild.naturalHeight;e.dataset.wh=t+" X "+a}e.innerText=e.innerText.indexOf("KB")>-1?e.dataset.wh:e.dataset.size}}},[["render",function(t,r,l,o,g,u){return e(),a("div",m,[(e(!0),a(i,null,n(l.images,(t=>(e(),a("div",{key:t.timeStamp,class:"imgBox"},[s("img",{src:t.base64,onClick:e=>u.download(t)},null,8,c),s("p",{onClick:r[0]||(r[0]=(...t)=>u.getWH&&u.getWH(...t)),"data-size":parseInt(t.size/1024)+"KB"},d(parseInt(t.size/1024))+" KB ",9,p)])))),128)),s("div",h,[r[2]||(r[2]=s("b",null,"点击图片下载",-1)),s("button",{onClick:r[1]||(r[1]=(...t)=>u.downloadAll&&u.downloadAll(...t))},"下载全部")])])}],["__scopeId","data-v-708befd1"]]);export{u as D,g as S};
